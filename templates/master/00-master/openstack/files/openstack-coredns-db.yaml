filesystem: "root"
mode: 0644
path: "/etc/kubernetes/static-pod-resources/coredns/coredns.db.template"
contents:
  inline: |
    $ORIGIN {{.EtcdDiscoveryDomain}}.
    @    3600 IN SOA host.{{.EtcdDiscoveryDomain}}. hostmaster (
                                    2          ; serial
                                    7200       ; refresh (2 hours)
                                    3600       ; retry (1 hour)
                                    1209600    ; expire (2 weeks)
                                    3600       ; minimum (1 hour)
                                    )

    api IN A $FLOATING_IP
    *.apps IN A $FLOATING_IP
    api-int IN A $BOOTSTRAP_IP
    api-int IN A $MASTER_FIXED_IPS_0
    api-int IN A $MASTER_FIXED_IPS_1
    api-int IN A $MASTER_FIXED_IPS_2
